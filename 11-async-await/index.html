<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Async e Await</title>
</head>
<body>
    <h1>Async e Await</h1>

    <div>
        <div><span>let</span> <span>ferverAgua</span> = <span>function</span>(<span>chaleiraEstaNoFogao</span>, <span>fogaoEstaLigado</span>) {</div>
        <div>&nbsp; &nbsp; <span>return</span> <span>new</span> <span>Promise</span>((<span>resolve</span>, <span>reject</span>) <span>=&gt;</span> {</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; <span>if</span> (<span>chaleiraEstaNoFogao</span> &amp;&amp; <span>fogaoEstaLigado</span>) {</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span>console</span>.<span>log</span>(<span>'Passo 1 finalizado: &Aacute;gua foi fervida'</span>)</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span>resolve</span>()</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; } <span>else</span> {</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span>console</span>.<span>log</span>(<span>'&eacute; necess&aacute;rio ligar o fog&atilde;o e colocar a chaleira no fog&atilde;o para ferver a &aacute;gua'</span>) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span>reject</span>()</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; }</div>
        <div>&nbsp; &nbsp; })</div>
        <div>}</div>
        <br />
        <div><span>let</span> <span>chaleiraEstaNoFogao</span> = <span>true</span></div>
        <div><span>let</span> <span>fogaoEstaLigado</span> = <span>true</span></div>
        <br />
        <div><span>let</span> <span>passarOCafe</span> = (<span>aguaFervida</span>) <span>=&gt;</span> {</div>
        <div>&nbsp; &nbsp; <span>return</span> <span>new</span> <span>Promise</span>((<span>resolve</span>) <span>=&gt;</span> {</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; <span>console</span>.<span>log</span>(<span>'Passo 2 finalizado: Caf&eacute; foi passado'</span>)</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; <span>resolve</span>(<span>true</span>)</div>
        <div>&nbsp; &nbsp; })</div>
        <div>}</div>
        <br />
        <div><span>let</span> <span>tomarCafe</span> = (<span>cafePassado</span>) <span>=&gt;</span> {</div>
        <div>&nbsp; &nbsp; <span>return</span> <span>new</span> <span>Promise</span>((<span>resolve</span>) <span>=&gt;</span> {</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; <span>console</span>.<span>log</span>(<span>'Passo 3 finalizado: Terminei de tomar o caf&eacute;'</span>)</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; <span>resolve</span>(<span>true</span>)</div>
        <div>&nbsp; &nbsp; })</div>
        <div>}</div>
        <br />
        <div><span>let</span> <span>lavarXicara</span> = (<span>cafeTomado</span>) <span>=&gt;</span> {</div>
        <div>&nbsp; &nbsp; <span>return</span> <span>new</span> <span>Promise</span>((<span>resolve</span>) <span>=&gt;</span> {</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; <span>console</span>.<span>log</span>(<span>'Passo 4 finalizado: terminei de lavar a x&iacute;cara'</span>)</div>
        <div>&nbsp; &nbsp; &nbsp; &nbsp; <span>resolve</span>(<span>true</span>)</div>
        <div>&nbsp; &nbsp; })</div>
        <div>}</div>
        <br />
        <div><span>// async faz com que uma fun&ccedil;&atilde;o seja executada de forma ass&iacute;ncrona.</span></div>
        <br />
        <div><span>async</span> <span>function</span> <span>iniciarProcessoDeFazerCafe</span>() {</div>
        <br />
        <div>&nbsp; &nbsp; <span>// await espera uma fun&ccedil;&atilde;o ser finalizada antes de executar o restante</span></div>
        <div>&nbsp; &nbsp; <span>// do bloco de c&oacute;digo</span></div>
        <br />
        <div>&nbsp; &nbsp; <span>const</span> <span>aguaFervida</span> = <span>await</span> <span>ferverAgua</span>(<span>chaleiraEstaNoFogao</span>, <span>fogaoEstaLigado</span>)</div>
        <div>&nbsp; &nbsp; <span>const</span> <span>cafePassado</span> = <span>await</span> <span>passarOCafe</span>(<span>aguaFervida</span>)</div>
        <div>&nbsp; &nbsp; <span>const</span> <span>cafeTomado</span> = <span>await</span> <span>tomarCafe</span>(<span>cafePassado</span>)</div>
        <div>&nbsp; &nbsp; <span>const</span> <span>xicaraLavada</span> = <span>await</span> <span>lavarXicara</span>(<span>cafeTomado</span>)</div>
        <div>&nbsp; &nbsp; <span>if</span>(<span>xicaraLavada</span>) <span>console</span>.<span>log</span>(<span>'Finalizando o ritual de tomar o caf&eacute;, bora trabalhar'</span>)</div>
        <div>}</div>
        <br />
        <div><span>iniciarProcessoDeFazerCafe</span>()</div>
    </div>

    <script src="index.js"></script>
</body>
</html>